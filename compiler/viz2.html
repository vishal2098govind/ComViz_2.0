<!DOCTYPE html>
<meta charset="utf-8" />
<body>
  <script src="//d3js.org/d3.v4.min.js"></script>
  <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
  <script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>
  <div id="graph" style="text-align: center"></div>
  <script>
    function attributer(datum, index, nodes) {
      var selection = d3.select(this);
      if (datum.tag == 'svg') {
        var width = window.innerWidth;
        var height = window.innerHeight;
        var x = 200;
        var y = 10;
        var scale = 0.75;
        selection
          .attr('width', width + 'pt')
          .attr('height', height + 'pt')
          .attr(
            'viewBox',
            -x + ' ' + -y + ' ' + width / scale + ' ' + height / scale
          );
        datum.attributes.width = width + 'pt';
        datum.attributes.height = height + 'pt';
        datum.attributes.viewBox =
          -x + ' ' + -y + ' ' + width / scale + ' ' + height / scale;
      }
    }

    function transitionFactory() {
      return d3.transition('main').ease(d3.easeLinear).delay(40).duration(900);
    }

    var dotIndex = 0;
    var graphviz = d3
      .select('#graph')
      .graphviz()
      .logEvents(true)
      .transition(transitionFactory)
      .tweenShapes(false)
      .on('initEnd', render)
      .attributer(attributer);

    function render() {
      var dotLines = dots[dotIndex % dots.length];
      var dot = dotLines.join('');
      graphviz.renderDot(dot).on('end', function () {
        dotIndex += 1;
        if (dotIndex != dots.length) {
          render();
        }
      });
    }

    var colors = d3.schemeCategory20;

    var dots = [
      ['digraph tree {    "0x1d90c4408b0" [label="1"];}'],
      [
        'digraph tree {    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440a60" -> "0x1d90c4408b0";}',
      ],
      [
        'digraph tree {    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";}',
      ],
      [
        'digraph tree {    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";}',
      ],
      [
        'digraph tree {    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440910" [label="+"];}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440910" [label="+"];    "0x1d90c440970" [label="2"];}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440910" [label="+"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440910" [label="+"];    "0x1d90c440c40" [label="P"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440c40" -> "0x1d90c440be0";    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440910" [label="+"];    "0x1d90c440d30" [label="F"];    "0x1d90c440c40" [label="P"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440d30" -> "0x1d90c440c40";    "0x1d90c440c40" -> "0x1d90c440be0";    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
      [
        'digraph tree {    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440910" [label="+"];    "0x1d90c440ca0" [label="T"];    "0x1d90c440d30" [label="F"];    "0x1d90c440c40" [label="P"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440ca0" -> "0x1d90c440d30";    "0x1d90c440d30" -> "0x1d90c440c40";    "0x1d90c440c40" -> "0x1d90c440be0";    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
      [
        'digraph tree {    "0x1d90c440d60" [label="Ar"];    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440910" [label="+"];    "0x1d90c440ca0" [label="T"];    "0x1d90c440d30" [label="F"];    "0x1d90c440c40" [label="P"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440d60" -> "0x1d90c440b20";    "0x1d90c440d60" -> "0x1d90c440910";    "0x1d90c440d60" -> "0x1d90c440ca0";    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440ca0" -> "0x1d90c440d30";    "0x1d90c440d30" -> "0x1d90c440c40";    "0x1d90c440c40" -> "0x1d90c440be0";    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
      [
        'digraph tree {    "0x1d90c440dc0" [label="C"];    "0x1d90c440d60" [label="Ar"];    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440910" [label="+"];    "0x1d90c440ca0" [label="T"];    "0x1d90c440d30" [label="F"];    "0x1d90c440c40" [label="P"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440dc0" -> "0x1d90c440d60";    "0x1d90c440d60" -> "0x1d90c440b20";    "0x1d90c440d60" -> "0x1d90c440910";    "0x1d90c440d60" -> "0x1d90c440ca0";    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440ca0" -> "0x1d90c440d30";    "0x1d90c440d30" -> "0x1d90c440c40";    "0x1d90c440c40" -> "0x1d90c440be0";    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
      [
        'digraph tree {    "0x1d90c440e20" [label="E"];    "0x1d90c440dc0" [label="C"];    "0x1d90c440d60" [label="Ar"];    "0x1d90c440b20" [label="Ar"];    "0x1d90c440b50" [label="T"];    "0x1d90c440af0" [label="F"];    "0x1d90c440ac0" [label="P"];    "0x1d90c440a60" [label="A"];    "0x1d90c4408b0" [label="1"];    "0x1d90c440910" [label="+"];    "0x1d90c440ca0" [label="T"];    "0x1d90c440d30" [label="F"];    "0x1d90c440c40" [label="P"];    "0x1d90c440be0" [label="A"];    "0x1d90c440970" [label="2"];    "0x1d90c440e20" -> "0x1d90c440dc0";    "0x1d90c440dc0" -> "0x1d90c440d60";    "0x1d90c440d60" -> "0x1d90c440b20";    "0x1d90c440d60" -> "0x1d90c440910";    "0x1d90c440d60" -> "0x1d90c440ca0";    "0x1d90c440b20" -> "0x1d90c440b50";    "0x1d90c440b50" -> "0x1d90c440af0";    "0x1d90c440af0" -> "0x1d90c440ac0";    "0x1d90c440ac0" -> "0x1d90c440a60";    "0x1d90c440a60" -> "0x1d90c4408b0";    "0x1d90c440ca0" -> "0x1d90c440d30";    "0x1d90c440d30" -> "0x1d90c440c40";    "0x1d90c440c40" -> "0x1d90c440be0";    "0x1d90c440be0" -> "0x1d90c440970";}',
      ],
    ];
  </script>
</body>
